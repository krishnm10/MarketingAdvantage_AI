# =============================================
# Database Configuration
# =============================================
DATABASE_URL=postgresql://postgres:Mahadeva%40123@localhost/marketing_advantage

# =============================================
# LLM Configuration (Ollama)
# =============================================
OLLAMA_API_URL=http://localhost:11434/api/generate
LLAMA_MODEL=gpt-oss:120b-cloud
DEEPSEEK_MODEL=llama3.1:8b

# =============================================
# Web Search Configuration
# =============================================
SERPER_API_KEY=cd76474270505cef104d2b1f638730cedbe3b5e8
SEARCH_RESULTS_LIMIT=3
SEARCH_CACHE_FILE=search_cache.json
SEARCH_CACHE_EXPIRY_HOURS=24

# =============================================
# AI Image Generation
# =============================================
AI_IMAGE_MODEL=deepai
DEEPAI_API_KEY=43c6274b-4195-423e-a90a-348615fe251d

# =============================================
# Authentication & Security
# =============================================
JWT_SECRET=your_strong_secret_here
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# =============================================
# Frontend Configuration
# =============================================
VITE_API_URL=http://127.0.0.1:8000

# =============================================
# Validation Scheduler Configuration
# =============================================

# --- Worker Enable/Disable Flags ---
ENABLE_VALIDATION=true        # Enable agentic validation worker
ENABLE_CONFLICT=true          # Enable conflict detection worker
ENABLE_TEMPORAL=true          # Enable temporal revalidation worker

# --- Worker Execution Intervals (seconds) ---
# How often each worker runs

# Agentic Validation: Validates content quality and trust
VALIDATION_INTERVAL=60        # Every 60 seconds (1 minute)

# Conflict Detection: Finds contradictory information
CONFLICT_INTERVAL=120         # Every 120 seconds (2 minutes)

# Temporal Revalidation: Updates freshness scores
TEMPORAL_INTERVAL=300         # Every 300 seconds (5 minutes)

# --- Batch Sizes (chunks per execution) ---
# How many chunks each worker processes per run

VALIDATION_BATCH_SIZE=50      # Process 50 chunks per validation run
CONFLICT_BATCH_SIZE=30        # Process 30 chunks per conflict run
TEMPORAL_BATCH_SIZE=50        # Process 50 chunks per temporal run

# =============================================
# Scheduler Configuration Presets
# =============================================
# Uncomment one of the presets below to override individual settings

# --- Development Mode (Fast Cycles) ---
# VALIDATION_INTERVAL=30
# CONFLICT_INTERVAL=60
# TEMPORAL_INTERVAL=120
# VALIDATION_BATCH_SIZE=10
# CONFLICT_BATCH_SIZE=10
# TEMPORAL_BATCH_SIZE=10

# --- Production Mode (Conservative) ---
# VALIDATION_INTERVAL=300
# CONFLICT_INTERVAL=600
# TEMPORAL_INTERVAL=1800
# VALIDATION_BATCH_SIZE=100
# CONFLICT_BATCH_SIZE=50
# TEMPORAL_BATCH_SIZE=100

# --- Disabled Mode (Manual Validation Only) ---
# ENABLE_VALIDATION=false
# ENABLE_CONFLICT=false
# ENABLE_TEMPORAL=false

# =============================================
# Notes
# =============================================
# 
# Worker Order:
#   1. Validation runs first (validates ingested content)
#   2. Conflict detection runs 10s after validation (requires validated data)
#   3. Temporal revalidation runs independently (updates freshness)
#
# Performance Guidelines:
#   - Smaller intervals = more frequent updates, higher CPU usage
#   - Larger batches = faster processing, higher memory usage
#   - Default settings optimized for ~10,000 chunks
#   - Scale batch sizes linearly with collection size
#
# Health Monitoring:
#   - GET /health/scheduler           → Quick status check
#   - GET /health/scheduler/metrics   → Detailed metrics
#
