# =============================================
# .env — MarketingAdvantage AI
# ⚠️  NEVER COMMIT THIS FILE TO GIT
# Add .env to your .gitignore immediately
# Commit .env.example instead (with empty values)
# =============================================

# =============================================
# Database
# =============================================
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD_HERE@localhost/marketing_advantage

# =============================================
# ── PLUGGABLE PIPELINE (NEW) ─────────────────
# This section drives _get_pipeline() in ingestion_service_v2.py
# Change ONE line here to swap the entire platform to a new backend.
# =============================================

# ── Global defaults ──────────────────────────
# Used for ALL businesses unless overridden per-business below.
MAI_VECTORDB=chroma          # chroma | qdrant | pinecone | milvus | weaviate
MAI_EMBEDDER=ollama          # ollama | openai | huggingface | cohere
MAI_LLM=ollama               # ollama | openai | groq | anthropic | gemini
MAI_COLLECTION=ingested_content

# ── ChromaDB ─────────────────────────────────
CHROMA_PATH=./chroma_db

# ── Qdrant ───────────────────────────────────
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=

# ── Milvus ───────────────────────────────────
MILVUS_HOST=localhost
MILVUS_PORT=19530
MILVUS_TOKEN=

# ── Pinecone ─────────────────────────────────
PINECONE_API_KEY=
PINECONE_INDEX_NAME=ingested-content
PINECONE_CLOUD=aws
PINECONE_REGION=us-east-1

# ── Weaviate ─────────────────────────────────
WEAVIATE_URL=http://localhost:8080
WEAVIATE_API_KEY=

# ── Ollama ───────────────────────────────────
# NEW: base URL without /api/generate (used by ollama_v1.py connector)
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_EMBED_MODEL=nomic-embed-text
OLLAMA_LLM_MODEL=llama3.1:8b

# ── OpenAI ───────────────────────────────────
OPENAI_API_KEY=
OPENAI_EMBED_MODEL=text-embedding-3-small
OPENAI_LLM_MODEL=gpt-4o-mini

# ── Groq ─────────────────────────────────────
GROQ_API_KEY=
GROQ_LLM_MODEL=llama-3.1-8b-instant

# ── Anthropic ────────────────────────────────
ANTHROPIC_API_KEY=
ANTHROPIC_LLM_MODEL=claude-3-5-sonnet-20241022

# ── Gemini ───────────────────────────────────
GEMINI_API_KEY=
GEMINI_LLM_MODEL=gemini-1.5-flash

# ── Cohere ───────────────────────────────────
COHERE_API_KEY=
COHERE_EMBED_MODEL=embed-english-v3.0

# ── Per-business overrides (optional) ────────
# To give a specific client a different VectorDB or LLM,
# add lines like these (replace ACME with client name in UPPER_SNAKE_CASE):
# MAI_ACME_VECTORDB=qdrant
# MAI_ACME_EMBEDDER=openai
# MAI_ACME_LLM=groq
# Switch back by changing or removing the line — zero code changes needed.

# =============================================
# LLM — Legacy (kept for backward compatibility)
# =============================================
# OLD format — used by pre-pluggable code still reading these vars
# Keep until all old code is migrated to pluggable connectors
OLLAMA_API_URL=http://localhost:11434/api/generate
LLAMA_MODEL=gpt-oss:120b-cloud
DEEPSEEK_MODEL=llama3.1:8b

# =============================================
# Web Search
# =============================================
SERPER_API_KEY=REGENERATE_THIS_KEY_NOW
SEARCH_RESULTS_LIMIT=3
SEARCH_CACHE_FILE=search_cache.json
SEARCH_CACHE_EXPIRY_HOURS=24

# =============================================
# AI Image Generation
# =============================================
AI_IMAGE_MODEL=deepai
DEEPAI_API_KEY=REGENERATE_THIS_KEY_NOW

# =============================================
# Authentication & Security
# =============================================
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET=REPLACE_WITH_GENERATED_SECRET
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# =============================================
# Frontend
# =============================================
VITE_API_URL=http://127.0.0.1:8000

# =============================================
# Validation Scheduler
# =============================================
ENABLE_VALIDATION=true
ENABLE_CONFLICT=true
ENABLE_TEMPORAL=true

VALIDATION_INTERVAL=60
CONFLICT_INTERVAL=120
TEMPORAL_INTERVAL=300

VALIDATION_BATCH_SIZE=50
CONFLICT_BATCH_SIZE=30
TEMPORAL_BATCH_SIZE=50

# ── Presets (uncomment one block to override above) ──

# Development (fast cycles)
# VALIDATION_INTERVAL=30
# CONFLICT_INTERVAL=60
# TEMPORAL_INTERVAL=120
# VALIDATION_BATCH_SIZE=10
# CONFLICT_BATCH_SIZE=10
# TEMPORAL_BATCH_SIZE=10

# Production (conservative)
# VALIDATION_INTERVAL=300
# CONFLICT_INTERVAL=600
# TEMPORAL_INTERVAL=1800
# VALIDATION_BATCH_SIZE=100
# CONFLICT_BATCH_SIZE=50
# TEMPORAL_BATCH_SIZE=100

# Disabled (manual only)
# ENABLE_VALIDATION=false
# ENABLE_CONFLICT=false
# ENABLE_TEMPORAL=false
